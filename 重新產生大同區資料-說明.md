# 重新產生大同區資料說明

## 問題
目前 `大同區門牌位置數值資料.CSV` 檔案有編碼問題，導致資料顯示為亂碼。

## 解決方案

### 方案 1：從原始台北市資料提取（推薦）

如果您有完整的台北市門牌位置數值資料檔案，可以使用 `extract-datong-from-taipei.py` 腳本來重新產生：

1. 將原始台北市資料檔案放在以下任一位置：
   - `c:\Users\user\Desktop\台北市\台北市門牌位置數值資料.csv`
   - `c:\Users\user\Desktop\taipei\台北市門牌位置數值資料.csv`
   - `c:\Users\user\Desktop\台北市門牌位置數值資料.csv`

2. 執行腳本：
   ```bash
   python extract-datong-from-taipei.py
   ```

3. 腳本會自動：
   - 從原始資料中篩選「大同區」的資料
   - 轉換為正確格式（areacode,行政區,路名,巷,弄）
   - 去重並排序
   - 輸出到 `大同區門牌位置數值資料.CSV`

### 方案 2：從其他台北市區檔案推斷格式

如果您有其他台北市區的檔案（如中正區），格式應該是：
```
省市縣市代碼,鄉鎮市區代碼,區名,村里,鄰,街路段,地區,巷,弄,號,橫座標,縱座標
```

大同區的資料應該遵循相同格式。

### 方案 3：手動修正現有檔案

如果無法取得原始資料，可以嘗試：

1. 用 Excel 開啟 `大同區門牌位置數值資料.CSV`
2. 選擇「資料」→「從文字檔匯入」
3. 選擇編碼為「Big5」或「UTF-8」
4. 確認欄位分隔符（Tab 或逗號）
5. 另存為 UTF-8 CSV 格式

## 檔案格式要求

最終的 `大同區門牌位置數值資料.CSV` 應該符合以下格式：

```csv
areacode,行政區,路名,巷,弄
,大同區,重慶北路一段,,
,大同區,重慶北路一段,1,,
,大同區,重慶北路一段,1,1
```

## 檢查清單

- [ ] 檔案編碼為 UTF-8（含 BOM）
- [ ] 欄位順序：areacode,行政區,路名,巷,弄
- [ ] 所有資料的「行政區」欄位都是「大同區」
- [ ] 路名欄位包含有效的中文字
- [ ] 沒有亂碼或特殊字元

## 下一步

產生正確的檔案後，系統會自動載入並使用。您可以：
1. 重新啟動 server.js
2. 測試查詢功能是否正常
3. 確認大同區的路名可以正確查詢
